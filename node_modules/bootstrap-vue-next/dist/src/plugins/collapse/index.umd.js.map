{"version":3,"file":"index.umd.js","sources":["../../../../src/plugins/collapse/index.ts"],"sourcesContent":["import {computed, type Plugin, reactive, readonly} from 'vue'\nimport {\n  globalCollapseStorageInjectionKey,\n  type RegisterCollapseFnInput,\n  type RegisterCollapseValue,\n} from '../../utils/keys'\n\nexport const collapsePlugin: Plugin = {\n  install(app) {\n    const values: Record<string, {value: boolean; toggle: () => void}> = reactive({})\n\n    const fun = (({id, value, toggle}: RegisterCollapseFnInput) => {\n      values[id] = computed(() => ({value: value.value, toggle})) as unknown as {\n        value: boolean\n        toggle: () => void\n      }\n      return {\n        unregister() {\n          delete values[id]\n        },\n      }\n    }) as unknown as RegisterCollapseValue\n\n    fun.map = readonly(values)\n\n    app.provide(globalCollapseStorageInjectionKey, fun)\n  },\n}\n"],"names":["collapsePlugin","install","app","values","reactive","fun","id","value","toggle","computed","unregister","map","readonly","provide","globalCollapseStorageInjectionKey"],"mappings":"8IAOaA,EAAyB,CACpC,OAAAC,CAAQC,GACA,MAAAC,EAA+DC,EAASA,SAAA,IAExEC,EAAO,EAAEC,KAAIC,QAAOC,aACjBL,EAAAG,GAAMG,EAAAA,UAAS,KAAA,CAAQF,MAAOA,EAAMA,MAAOC,aAI3C,CACL,UAAAE,UACSP,EAAOG,EAAE,IAKlBD,EAAAM,IAAMC,WAAST,GAEfD,EAAAW,QAAQC,oCAAmCT,EAAG"}