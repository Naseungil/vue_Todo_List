"use strict";const e=require("vue"),o=require("./useDefaults-DrxHjHw2.js"),t=require("./useId-B5tsy2d5.js"),l=require("./keys-DNjuQYyL.js"),a=require("./useShowHide-CK93wwAA.js"),s=e.defineComponent({inheritAttrs:!1,__name:"BCollapse",props:e.mergeModels({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},tag:{default:"div"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},noFade:{type:Boolean},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:e.mergeModels(["hidden","hide","hide-prevented","show","show-prevented","shown","toggle"],["update:modelValue"]),setup(s,{expose:i,emit:n}){var r;const d=s,u=o.useDefaults(d,"BCollapse"),p=n,v=e.useModel(s,"modelValue"),c=t.useId((()=>u.id),"collapse"),h=e.useTemplateRef("_element");let m=!1;const{showRef:f,renderRef:g,hide:y,show:w,toggle:B,isActive:C,computedNoAnimation:z,contentShowing:A,transitionProps:P}=a.useShowHide(v,u,p,h,c,{transitionProps:{onBeforeLeave:e=>{m||(u.horizontal?e.style.width=`${e.scrollWidth}px`:e.style.height=`${e.scrollHeight}px`,e.offsetHeight)},onEnter:e=>{m=!0,requestAnimationFrame((()=>{u.horizontal?e.style.width=`${e.scrollWidth}px`:e.style.height=`${e.scrollHeight}px`}))},onLeave:e=>{requestAnimationFrame((()=>{u.horizontal?e.style.width="":e.style.height=""}))},onAfterEnter:e=>{e.style.height="",e.style.width="",m=!1},onAfterLeave:e=>{e.style.height="",e.style.width="",m=!1},enterToClass:"",leaveToClass:"",enterFromClass:"",leaveFromClass:"",enterActiveClass:"",leaveActiveClass:""}}),N=e.computed((()=>({show:C.value,"navbar-collapse":u.isNav,"collapse-horizontal":u.horizontal}))),k=e.computed((()=>({toggle:B,show:w,hide:y,id:c.value,visible:f.value})));i({hide:y,isNav:u.isNav,show:w,toggle:B,visible:e.readonly(f)}),e.provide(l.collapseInjectionKey,{id:c,hide:y,show:w,toggle:B,visible:e.readonly(f),isNav:e.toRef((()=>u.isNav))});const x=null==(r=e.inject(l.globalCollapseStorageInjectionKey,void 0))?void 0:r({id:c.value,toggle:B,value:e.readonly(f)});return e.onBeforeUnmount((()=>{null==x||x.unregister()})),(o,t)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(o.$slots,"header",e.normalizeProps(e.guardReactiveProps(k.value))),e.unref(g)||e.unref(A)?(e.openBlock(),e.createBlock(e.Transition,e.mergeProps({key:0},e.unref(P),{"enter-active-class":e.unref(z)?"":"collapsing","leave-active-class":e.unref(z)?"":"collapsing",appear:v.value}),{default:e.withCtx((()=>[e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(u).tag),e.mergeProps({id:e.unref(c),ref:"_element",class:["collapse",N.value],"is-nav":e.unref(u).isNav},o.$attrs),{default:e.withCtx((()=>[e.unref(A)?e.renderSlot(o.$slots,"default",e.normalizeProps(e.mergeProps({key:0},k.value))):e.createCommentVNode("",!0)])),_:3},16,["id","class","is-nav"])),[[e.vShow,e.unref(f)]])])),_:3},16,["enter-active-class","leave-active-class","appear"])):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"footer",e.normalizeProps(e.guardReactiveProps(k.value)))],64))}});exports._sfc_main=s;
//# sourceMappingURL=BCollapse.vue_vue_type_script_setup_true_lang-Cfo7uvq0.js.map
