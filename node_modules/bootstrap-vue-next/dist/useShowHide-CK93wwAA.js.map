{"version":3,"file":"useShowHide-CK93wwAA.js","sources":["../src/composables/useShowHide.ts"],"sourcesContent":["import {computed, type EmitFn, nextTick, onMounted, type Ref, ref, watch} from 'vue'\nimport {BvTriggerableEvent} from '../utils'\nimport {useEventListener, useThrottleFn} from '@vueuse/core'\n\nexport const fadeBaseTransitionProps = {\n  name: 'fade',\n  enterActiveClass: '',\n  enterFromClass: 'showing',\n  enterToClass: '',\n  leaveActiveClass: '',\n  leaveFromClass: '',\n  leaveToClass: 'showing',\n  css: true,\n}\n\ninterface TransitionProps {\n  onBeforeEnter?: (el: Element) => void\n  onEnter?: (el: Element) => void\n  onAfterEnter?: (el: Element) => void\n  onBeforeLeave?: (el: Element) => void\n  onLeave?: (el: Element) => void\n  onAfterLeave?: (el: Element) => void\n  enterToClass?: string\n  leaveToClass?: string\n  enterFromClass?: string\n  leaveFromClass?: string\n  enterActiveClass?: string\n  leaveActiveClass?: string\n}\n\nexport const useShowHide = (\n  modelValue: Ref<boolean | number>,\n  props: {\n    visible?: boolean\n    show?: boolean\n    noAnimation?: boolean\n    noFade?: boolean\n    noCloseOnBackdrop?: boolean\n    noCloseOnEsc?: boolean\n    transitionProps?: TransitionProps\n    lazy?: boolean\n    initialAnimation?: boolean\n    delay?:\n      | number\n      | {\n          show: number\n          hide: number\n        }\n  } & Record<string, unknown>,\n  emit: EmitFn,\n  element: Ref<HTMLElement | null>,\n  computedId: Ref<string>,\n  options: {\n    transitionProps?: TransitionProps\n    showFn?: () => void\n    hideFn?: () => void\n  } = {\n    transitionProps: {},\n    showFn: () => {},\n    hideFn: () => {},\n  }\n) => {\n  let noAction = false\n  const initialShow = (!!modelValue.value && !props.initialAnimation) || props.visible || false\n  const showRef = ref<boolean>(initialShow)\n  const renderRef = ref<boolean>(initialShow)\n  const renderBackdropRef = ref<boolean>(initialShow)\n\n  let isCountdown = typeof modelValue.value !== 'boolean'\n\n  watch(modelValue, () => {\n    isCountdown = typeof modelValue.value !== 'boolean'\n    if (noAction) {\n      noAction = false\n      return\n    }\n    if (modelValue.value) {\n      show()\n    } else {\n      hide()\n    }\n  })\n\n  const localNoAnimation = ref(initialShow)\n  const localTemporaryHide = ref(false)\n  const computedNoAnimation = computed(\n    () => props.noAnimation || props.noFade || localNoAnimation.value || false\n  )\n  onMounted(() => {\n    if (props.visible || (!props.show && initialShow)) {\n      localNoAnimation.value = true\n      if (!modelValue.value) {\n        noAction = true\n        modelValue.value = true\n      }\n      nextTick(() => {\n        isVisible.value = true\n        backdropVisible.value = true\n        backdropReady.value = true\n        show()\n      })\n    } else if (props.show || (!!modelValue.value && props.initialAnimation)) {\n      show()\n    }\n  })\n\n  watch(\n    () => props.visible,\n    (newval) => {\n      localNoAnimation.value = true\n\n      nextTick(() => {\n        if (newval) isVisible.value = true\n        if (newval) {\n          show()\n        } else {\n          hide()\n        }\n      })\n    }\n  )\n  watch(\n    () => props.show,\n    (newval) => {\n      if (newval) {\n        show()\n      } else {\n        hide()\n      }\n    }\n  )\n  useEventListener(element, 'bv-toggle', () => {\n    modelValue.value = !modelValue.value\n  })\n\n  const buildTriggerableEvent = (\n    type: string,\n    opts: Readonly<Partial<BvTriggerableEvent>> = {}\n  ): BvTriggerableEvent =>\n    new BvTriggerableEvent(type, {\n      cancelable: false,\n      target: element?.value || null,\n      relatedTarget: null,\n      trigger: null,\n      ...opts,\n      componentId: computedId?.value,\n    })\n\n  let showTimeout: ReturnType<typeof setTimeout> | undefined\n\n  const show = () => {\n    if (showRef.value) return\n    const event = buildTriggerableEvent('show', {cancelable: true})\n    emit('show', event)\n\n    if (event.defaultPrevented) {\n      emit('show-prevented', buildTriggerableEvent('show-prevented'))\n      if (isVisible.value) {\n        isVisible.value = false\n      }\n      if (modelValue.value && !isCountdown) {\n        noAction = true\n        nextTick(() => {\n          modelValue.value = false\n        })\n      }\n      return\n    }\n    renderRef.value = true\n    renderBackdropRef.value = true\n    requestAnimationFrame(() => {\n      showTimeout = setTimeout(\n        () => {\n          showRef.value = true\n          options.showFn?.()\n          if (!modelValue.value) {\n            noAction = true\n            nextTick(() => {\n              modelValue.value = true\n            })\n          }\n        },\n        localNoAnimation.value\n          ? 0\n          : typeof props.delay === 'number'\n            ? props.delay\n            : props.delay?.show || 0\n      )\n    })\n  }\n\n  const hide = (trigger?: string) => {\n    if (!showRef.value) return\n    const event = buildTriggerableEvent('hide', {cancelable: true, trigger})\n    const event2 = buildTriggerableEvent(trigger || 'ignore', {cancelable: true, trigger})\n    if (\n      (trigger === 'backdrop' && props.noCloseOnBackdrop) ||\n      (trigger === 'esc' && props.noCloseOnEsc)\n    ) {\n      emit('hide-prevented', buildTriggerableEvent('hide-prevented'))\n      return\n    }\n    if (showTimeout) {\n      clearTimeout(showTimeout)\n      showTimeout = undefined\n    }\n    if (trigger) {\n      emit(trigger, event2)\n    }\n    emit('hide', event)\n\n    if (event.defaultPrevented || event2.defaultPrevented) {\n      emit('hide-prevented', buildTriggerableEvent('hide-prevented'))\n      noAction = true\n      nextTick(() => {\n        modelValue.value = true\n      })\n      return\n    }\n    setTimeout(\n      () => {\n        isLeaving.value = true\n        showRef.value = false\n        options.hideFn?.()\n        if (modelValue.value) {\n          noAction = true\n          modelValue.value = isCountdown ? 0 : false\n        }\n      },\n      localNoAnimation.value\n        ? 0\n        : typeof props.delay === 'number'\n          ? props.delay\n          : props.delay?.hide || 0\n    )\n  }\n  const throttleHide = useThrottleFn((a) => hide(a), 500)\n  const throttleShow = useThrottleFn(() => show(), 500)\n\n  const toggle = () => {\n    const e = buildTriggerableEvent('toggle', {cancelable: true})\n    emit('toggle', e)\n    if (e.defaultPrevented) {\n      emit('toggle-prevented', buildTriggerableEvent('toggle-prevented'))\n      return\n    }\n    if (showRef.value) {\n      hide()\n    } else {\n      show()\n    }\n  }\n\n  const lazyLoadCompleted = ref(false)\n  const markLazyLoadCompleted = () => {\n    if (props.lazy === true) lazyLoadCompleted.value = true\n  }\n\n  const isLeaving = ref(false)\n  const isActive = ref(false)\n  const isVisible = ref(false)\n\n  const onBeforeEnter = (el: Element) => {\n    options.transitionProps?.onBeforeEnter?.(el)\n    props.transitionProps?.onBeforeEnter?.(el)\n    isActive.value = true\n  }\n  const onEnter = (el: Element) => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        // sometimes one just isn't enough (offcanvas on the first load after refresh)\n        isVisible.value = true\n      })\n    })\n    options.transitionProps?.onEnter?.(el)\n    props.transitionProps?.onEnter?.(el)\n  }\n  const onAfterEnter = (el: Element) => {\n    emit('shown', buildTriggerableEvent('shown'))\n    markLazyLoadCompleted()\n    options.transitionProps?.onAfterEnter?.(el)\n    props.transitionProps?.onAfterEnter?.(el)\n    if (localNoAnimation.value) {\n      requestAnimationFrame(() => {\n        localNoAnimation.value = false\n      })\n    }\n    if (localTemporaryHide.value) {\n      localTemporaryHide.value = false\n    }\n  }\n  const onBeforeLeave = (el: Element) => {\n    if (!isLeaving.value) isLeaving.value = true\n    options.transitionProps?.onBeforeLeave?.(el)\n    props.transitionProps?.onBeforeLeave?.(el)\n  }\n  const onLeave = (el: Element) => {\n    isVisible.value = false\n    options.transitionProps?.onLeave?.(el)\n    props.transitionProps?.onLeave?.(el)\n  }\n  const onAfterLeave = (el: Element) => {\n    emit('hidden', buildTriggerableEvent('hidden'))\n    options.transitionProps?.onAfterLeave?.(el)\n    props.transitionProps?.onAfterLeave?.(el)\n    isLeaving.value = false\n    isActive.value = false\n    if (localNoAnimation.value) {\n      requestAnimationFrame(() => {\n        localNoAnimation.value = false\n      })\n    }\n    requestAnimationFrame(() => {\n      if (!localTemporaryHide.value) renderRef.value = false\n    })\n  }\n\n  const contentShowing = computed(\n    () =>\n      localTemporaryHide.value === true ||\n      isActive.value === true ||\n      props.lazy === false ||\n      (props.lazy === true && lazyLoadCompleted.value === true && props.unmountLazy === false)\n  )\n  const trapActive = ref(false)\n  watch(isVisible, (val) => {\n    setTimeout(() => {\n      trapActive.value = val\n    }, 32)\n  })\n  const backdropVisible = ref(false)\n  const backdropReady = ref(false)\n\n  const transitionFunctions = {\n    ...options.transitionProps,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n  }\n  return {\n    showRef,\n    renderRef,\n    renderBackdropRef,\n    isVisible,\n    isActive,\n    trapActive,\n    show,\n    hide,\n    toggle,\n    throttleHide,\n    throttleShow,\n    buildTriggerableEvent,\n    computedNoAnimation,\n    localNoAnimation,\n    localTemporaryHide,\n    isLeaving,\n    transitionProps: {\n      ...fadeBaseTransitionProps,\n      ...props.transitionProps,\n      ...transitionFunctions,\n    },\n\n    lazyLoadCompleted,\n    markLazyLoadCompleted,\n    contentShowing,\n    backdropReady,\n    backdropVisible,\n    backdropTransitionProps: {\n      ...fadeBaseTransitionProps,\n      onBeforeEnter: () => {\n        requestAnimationFrame(() => {\n          requestAnimationFrame(() => {\n            backdropVisible.value = true\n          })\n        })\n        backdropReady.value = false\n      },\n      onAfterEnter: () => {\n        backdropReady.value = true\n      },\n      onBeforeLeave: () => {\n        backdropVisible.value = false\n      },\n      onAfterLeave: () => {\n        backdropReady.value = false\n        requestAnimationFrame(() => {\n          renderBackdropRef.value = false\n        })\n      },\n    },\n  }\n}\n"],"names":["fadeBaseTransitionProps","name","enterActiveClass","enterFromClass","enterToClass","leaveActiveClass","leaveFromClass","leaveToClass","css","modelValue","props","emit","element","computedId","options","transitionProps","showFn","hideFn","noAction","initialShow","value","initialAnimation","visible","showRef","ref","renderRef","renderBackdropRef","isCountdown","vue","watch","show","hide","localNoAnimation","localTemporaryHide","computedNoAnimation","computed","noAnimation","noFade","onMounted","nextTick","isVisible","backdropVisible","backdropReady","newval","buildTriggerableEvent","type","opts","BvTriggerableEvent","cancelable","target","relatedTarget","trigger","componentId","showTimeout","event","defaultPrevented","requestAnimationFrame","setTimeout","_a","call","delay","event2","noCloseOnBackdrop","noCloseOnEsc","clearTimeout","isLeaving","throttleHide","useThrottleFn","a","throttleShow","lazyLoadCompleted","markLazyLoadCompleted","lazy","isActive","contentShowing","unmountLazy","trapActive","val","transitionFunctions","onBeforeEnter","el","_b","_d","_c","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","toggle","e","backdropTransitionProps"],"mappings":"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"}